# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ 500 Internal Server Error

## –ü—Ä–æ–±–ª–µ–º–∞
```
Failed to load resource: the server responded with a status of 500 (Internal Server Error)
Error creating logbook entry: Error: Failed to create logbook entry
```

## –ü—Ä–∏—á–∏–Ω–∞
- –§—É–Ω–∫—Ü–∏—è `createLogbookEntry` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π Supabase –∫–ª–∏–µ–Ω—Ç
- –í API routes –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```ts
console.log('API: Starting logbook entry creation');
console.log('API: User authenticated:', user.id);
console.log('API: Request body:', { car_id, title, content, topic, allow_comments });
```

### 2. –ó–∞–º–µ–Ω–∏–ª–∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
```ts
// –ë—ã–ª–æ:
const entry = await createLogbookEntry({...}, user.id);

// –°—Ç–∞–ª–æ:
const { data, error } = await supabase
  .from('logbook_entries')
  .insert({
    car_id,
    title,
    content,
    topic,
    allow_comments: allow_comments ?? true,
    author_id: user.id
  })
  .select()
  .single();
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫ 500** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∏–¥–Ω–æ –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞
- ‚úÖ **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î** - –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. **API route –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω** –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–ª–∏–µ–Ω—Ç** –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Supabase
3. **–ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î** —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ
4. **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –∫–ª–∏–µ–Ω—Ç—É

**–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!** üöÄ
